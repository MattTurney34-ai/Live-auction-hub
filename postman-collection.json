{
  "info": {
    "name": "Live Auction Hub API Collection",
    "description": "Complete API collection for testing Live Auction Hub endpoints",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_postman_id": "live-auction-hub-collection",
    "version": "1.0.0",
    "updatedAt": "2025-12-22T17:41:44.000Z"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{authToken}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000/api",
      "type": "string"
    },
    {
      "key": "authToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "userId",
      "value": "",
      "type": "string"
    },
    {
      "key": "auctionId",
      "value": "",
      "type": "string"
    },
    {
      "key": "bidId",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Register User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('authToken', response.token);",
                  "    pm.collectionVariables.set('userId', response.user.id);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"testuser\",\n  \"email\": \"testuser@example.com\",\n  \"password\": \"SecurePass123!\",\n  \"firstName\": \"Test\",\n  \"lastName\": \"User\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "register"]
            },
            "description": "Register a new user account"
          },
          "response": []
        },
        {
          "name": "Login User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('authToken', response.token);",
                  "    pm.collectionVariables.set('userId', response.user.id);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"testuser@example.com\",\n  \"password\": \"SecurePass123!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            },
            "description": "Login with existing credentials"
          },
          "response": []
        },
        {
          "name": "Logout User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/auth/logout",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "logout"]
            },
            "description": "Logout current user"
          },
          "response": []
        },
        {
          "name": "Refresh Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('authToken', response.token);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/refresh",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "refresh"]
            },
            "description": "Refresh authentication token"
          },
          "response": []
        },
        {
          "name": "Get Current User",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/auth/me",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "me"]
            },
            "description": "Get current authenticated user details"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Auctions",
      "item": [
        {
          "name": "Create Auction",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('auctionId', response.id);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Vintage Watch Collection\",\n  \"description\": \"Rare vintage watches from the 1960s-1980s\",\n  \"startingPrice\": 500.00,\n  \"reservePrice\": 1000.00,\n  \"startTime\": \"2025-12-23T10:00:00Z\",\n  \"endTime\": \"2025-12-30T18:00:00Z\",\n  \"category\": \"Collectibles\",\n  \"images\": [\n    \"https://example.com/images/watch1.jpg\",\n    \"https://example.com/images/watch2.jpg\"\n  ],\n  \"condition\": \"Excellent\",\n  \"shipping\": {\n    \"available\": true,\n    \"cost\": 15.00,\n    \"locations\": [\"US\", \"CA\", \"UK\"]\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auctions",
              "host": ["{{baseUrl}}"],
              "path": ["auctions"]
            },
            "description": "Create a new auction"
          },
          "response": []
        },
        {
          "name": "Get All Auctions",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/auctions?status=active&limit=20&page=1&sortBy=endTime&order=asc",
              "host": ["{{baseUrl}}"],
              "path": ["auctions"],
              "query": [
                {
                  "key": "status",
                  "value": "active"
                },
                {
                  "key": "limit",
                  "value": "20"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "sortBy",
                  "value": "endTime"
                },
                {
                  "key": "order",
                  "value": "asc"
                }
              ]
            },
            "description": "Get all auctions with optional filters"
          },
          "response": []
        },
        {
          "name": "Get Auction by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/auctions/{{auctionId}}",
              "host": ["{{baseUrl}}"],
              "path": ["auctions", "{{auctionId}}"]
            },
            "description": "Get auction details by ID"
          },
          "response": []
        },
        {
          "name": "Update Auction",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Vintage Watch Collection - Updated\",\n  \"description\": \"Rare vintage watches from the 1960s-1980s - Price reduced!\",\n  \"startingPrice\": 450.00\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auctions/{{auctionId}}",
              "host": ["{{baseUrl}}"],
              "path": ["auctions", "{{auctionId}}"]
            },
            "description": "Update auction details"
          },
          "response": []
        },
        {
          "name": "Delete Auction",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/auctions/{{auctionId}}",
              "host": ["{{baseUrl}}"],
              "path": ["auctions", "{{auctionId}}"]
            },
            "description": "Delete an auction"
          },
          "response": []
        },
        {
          "name": "Search Auctions",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/auctions/search?q=vintage&category=Collectibles&minPrice=100&maxPrice=2000",
              "host": ["{{baseUrl}}"],
              "path": ["auctions", "search"],
              "query": [
                {
                  "key": "q",
                  "value": "vintage"
                },
                {
                  "key": "category",
                  "value": "Collectibles"
                },
                {
                  "key": "minPrice",
                  "value": "100"
                },
                {
                  "key": "maxPrice",
                  "value": "2000"
                }
              ]
            },
            "description": "Search auctions by keywords and filters"
          },
          "response": []
        },
        {
          "name": "Get Auction Categories",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/auctions/categories",
              "host": ["{{baseUrl}}"],
              "path": ["auctions", "categories"]
            },
            "description": "Get all available auction categories"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Bids",
      "item": [
        {
          "name": "Place Bid",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('bidId', response.id);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"auctionId\": \"{{auctionId}}\",\n  \"amount\": 550.00,\n  \"maxAutoBid\": 750.00\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/bids",
              "host": ["{{baseUrl}}"],
              "path": ["bids"]
            },
            "description": "Place a new bid on an auction"
          },
          "response": []
        },
        {
          "name": "Get Bids for Auction",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/auctions/{{auctionId}}/bids?limit=50&sortBy=amount&order=desc",
              "host": ["{{baseUrl}}"],
              "path": ["auctions", "{{auctionId}}", "bids"],
              "query": [
                {
                  "key": "limit",
                  "value": "50"
                },
                {
                  "key": "sortBy",
                  "value": "amount"
                },
                {
                  "key": "order",
                  "value": "desc"
                }
              ]
            },
            "description": "Get all bids for a specific auction"
          },
          "response": []
        },
        {
          "name": "Get User Bids",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}/bids?status=active",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}", "bids"],
              "query": [
                {
                  "key": "status",
                  "value": "active"
                }
              ]
            },
            "description": "Get all bids placed by a user"
          },
          "response": []
        },
        {
          "name": "Get Bid Details",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/bids/{{bidId}}",
              "host": ["{{baseUrl}}"],
              "path": ["bids", "{{bidId}}"]
            },
            "description": "Get details of a specific bid"
          },
          "response": []
        },
        {
          "name": "Retract Bid",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/bids/{{bidId}}",
              "host": ["{{baseUrl}}"],
              "path": ["bids", "{{bidId}}"]
            },
            "description": "Retract a bid (if allowed)"
          },
          "response": []
        },
        {
          "name": "Get Highest Bid",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/auctions/{{auctionId}}/bids/highest",
              "host": ["{{baseUrl}}"],
              "path": ["auctions", "{{auctionId}}", "bids", "highest"]
            },
            "description": "Get the current highest bid for an auction"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Users",
      "item": [
        {
          "name": "Get User Profile",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}"]
            },
            "description": "Get user profile details"
          },
          "response": []
        },
        {
          "name": "Update User Profile",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstName\": \"Updated\",\n  \"lastName\": \"Name\",\n  \"phone\": \"+1234567890\",\n  \"address\": {\n    \"street\": \"123 Main St\",\n    \"city\": \"New York\",\n    \"state\": \"NY\",\n    \"zipCode\": \"10001\",\n    \"country\": \"USA\"\n  },\n  \"preferences\": {\n    \"emailNotifications\": true,\n    \"smsNotifications\": false\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}"]
            },
            "description": "Update user profile information"
          },
          "response": []
        },
        {
          "name": "Get User Auctions",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}/auctions?status=active",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}", "auctions"],
              "query": [
                {
                  "key": "status",
                  "value": "active"
                }
              ]
            },
            "description": "Get all auctions created by a user"
          },
          "response": []
        },
        {
          "name": "Get User Watchlist",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}/watchlist",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}", "watchlist"]
            },
            "description": "Get user's watchlist"
          },
          "response": []
        },
        {
          "name": "Add to Watchlist",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"auctionId\": \"{{auctionId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}/watchlist",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}", "watchlist"]
            },
            "description": "Add auction to user's watchlist"
          },
          "response": []
        },
        {
          "name": "Remove from Watchlist",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}/watchlist/{{auctionId}}",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}", "watchlist", "{{auctionId}}"]
            },
            "description": "Remove auction from user's watchlist"
          },
          "response": []
        },
        {
          "name": "Get User Statistics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}/statistics",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}", "statistics"]
            },
            "description": "Get user statistics (auctions won, total bids, etc.)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Notifications",
      "item": [
        {
          "name": "Get Notifications",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/notifications?unreadOnly=true&limit=20",
              "host": ["{{baseUrl}}"],
              "path": ["notifications"],
              "query": [
                {
                  "key": "unreadOnly",
                  "value": "true"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            },
            "description": "Get user notifications"
          },
          "response": []
        },
        {
          "name": "Mark Notification as Read",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"read\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/notifications/{{notificationId}}",
              "host": ["{{baseUrl}}"],
              "path": ["notifications", "{{notificationId}}"]
            },
            "description": "Mark a notification as read"
          },
          "response": []
        },
        {
          "name": "Mark All as Read",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"markAll\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/notifications/mark-all-read",
              "host": ["{{baseUrl}}"],
              "path": ["notifications", "mark-all-read"]
            },
            "description": "Mark all notifications as read"
          },
          "response": []
        },
        {
          "name": "Delete Notification",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/notifications/{{notificationId}}",
              "host": ["{{baseUrl}}"],
              "path": ["notifications", "{{notificationId}}"]
            },
            "description": "Delete a notification"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Payments",
      "item": [
        {
          "name": "Create Payment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"auctionId\": \"{{auctionId}}\",\n  \"amount\": 550.00,\n  \"paymentMethod\": \"credit_card\",\n  \"paymentDetails\": {\n    \"cardNumber\": \"4111111111111111\",\n    \"expiryMonth\": \"12\",\n    \"expiryYear\": \"2026\",\n    \"cvv\": \"123\",\n    \"billingAddress\": {\n      \"street\": \"123 Main St\",\n      \"city\": \"New York\",\n      \"state\": \"NY\",\n      \"zipCode\": \"10001\",\n      \"country\": \"USA\"\n    }\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/payments",
              "host": ["{{baseUrl}}"],
              "path": ["payments"]
            },
            "description": "Create a payment for won auction"
          },
          "response": []
        },
        {
          "name": "Get Payment Details",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/payments/{{paymentId}}",
              "host": ["{{baseUrl}}"],
              "path": ["payments", "{{paymentId}}"]
            },
            "description": "Get payment details"
          },
          "response": []
        },
        {
          "name": "Get User Payments",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}/payments?status=completed",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}", "payments"],
              "query": [
                {
                  "key": "status",
                  "value": "completed"
                }
              ]
            },
            "description": "Get all payments for a user"
          },
          "response": []
        },
        {
          "name": "Refund Payment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"Item not as described\",\n  \"amount\": 550.00\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/payments/{{paymentId}}/refund",
              "host": ["{{baseUrl}}"],
              "path": ["payments", "{{paymentId}}", "refund"]
            },
            "description": "Request payment refund"
          },
          "response": []
        }
      ]
    },
    {
      "name": "WebSocket",
      "item": [
        {
          "name": "Connect to WebSocket",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "ws://localhost:3000/ws?token={{authToken}}",
              "protocol": "ws",
              "host": ["localhost"],
              "port": "3000",
              "path": ["ws"],
              "query": [
                {
                  "key": "token",
                  "value": "{{authToken}}"
                }
              ]
            },
            "description": "WebSocket connection for real-time updates"
          },
          "response": []
        },
        {
          "name": "Subscribe to Auction",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"action\": \"subscribe\",\n  \"auctionId\": \"{{auctionId}}\"\n}"
            },
            "url": {
              "raw": "ws://localhost:3000/ws",
              "protocol": "ws",
              "host": ["localhost"],
              "port": "3000",
              "path": ["ws"]
            },
            "description": "Subscribe to real-time auction updates via WebSocket"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Admin",
      "item": [
        {
          "name": "Get All Users",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/admin/users?limit=50&page=1",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "users"],
              "query": [
                {
                  "key": "limit",
                  "value": "50"
                },
                {
                  "key": "page",
                  "value": "1"
                }
              ]
            },
            "description": "Get all users (admin only)"
          },
          "response": []
        },
        {
          "name": "Suspend User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"reason\": \"Violation of terms of service\",\n  \"duration\": 30\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/users/suspend",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "users", "suspend"]
            },
            "description": "Suspend a user account (admin only)"
          },
          "response": []
        },
        {
          "name": "Delete Auction (Admin)",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/admin/auctions/{{auctionId}}",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "auctions", "{{auctionId}}"]
            },
            "description": "Delete any auction (admin only)"
          },
          "response": []
        },
        {
          "name": "Get System Statistics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/admin/statistics",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "statistics"]
            },
            "description": "Get system-wide statistics (admin only)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Health Check",
      "item": [
        {
          "name": "API Health",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/health",
              "host": ["{{baseUrl}}"],
              "path": ["health"]
            },
            "description": "Check API health status"
          },
          "response": []
        },
        {
          "name": "Database Health",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/health/database",
              "host": ["{{baseUrl}}"],
              "path": ["health", "database"]
            },
            "description": "Check database connection status"
          },
          "response": []
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Add any pre-request scripts here",
          "console.log('Request to:', pm.request.url.toString());"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Global test scripts",
          "pm.test('Status code is not 500', function () {",
          "    pm.expect(pm.response.code).to.not.equal(500);",
          "});",
          "",
          "pm.test('Response time is less than 5000ms', function () {",
          "    pm.expect(pm.response.responseTime).to.be.below(5000);",
          "});"
        ]
      }
    }
  ]
}